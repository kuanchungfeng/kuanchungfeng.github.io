<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Explaining Factory Patterns Through Barbecue (Part 1) - Arthur's Blog</title><meta name=Description content><meta property="og:url" content="https://kuanchungfeng.github.io/en/posts/factory/"><meta property="og:site_name" content="Arthur's Blog"><meta property="og:title" content="Explaining Factory Patterns Through Barbecue (Part 1)"><meta property="og:description" content="Three Types of Factory Patterns Simple Factory Pattern
Factory Method Pattern
Abstract Factory Pattern"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-08T18:35:04+08:00"><meta property="article:modified_time" content="2021-09-08T18:35:04+08:00"><meta property="article:tag" content="DP"><meta property="article:tag" content="FactoryPattern"><meta name=twitter:card content="summary"><meta name=twitter:title content="Explaining Factory Patterns Through Barbecue (Part 1)"><meta name=twitter:description content="Three Types of Factory Patterns Simple Factory Pattern
Factory Method Pattern
Abstract Factory Pattern"><meta name=application-name content="Arthur's Blog"><meta name=apple-mobile-web-app-title content="Arthur's Blog"><meta name=theme-color content="#f8f8f8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=https://kuanchungfeng.github.io/en/posts/factory/><link rel=prev href=https://kuanchungfeng.github.io/en/posts/design-pattern-learning-guide/><link rel=next href=https://kuanchungfeng.github.io/en/posts/factory2/><link rel=stylesheet href=/css/main.min.css><link rel=stylesheet href=/css/style.min.css><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Explaining Factory Patterns Through Barbecue (Part 1)","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://kuanchungfeng.github.io/en/posts/factory/"},"genre":"posts","keywords":["DP","FactoryPattern"],"wordcount":1077,"url":"https://kuanchungfeng.github.io/en/posts/factory/","datePublished":"2021-09-08T18:35:04+08:00","dateModified":"2021-09-08T18:35:04+08:00","publisher":{"@type":"Organization","name":"Author"},"author":[{"@type":"Person","name":"Arthur","url":"https://kuanchungfeng.github.io/en/authors/arthur"}],"description":""}</script></head><body data-instant-intensity=viewport><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.className=e,document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),e==="light"?document.documentElement.classList.remove("tw-dark"):document.documentElement.classList.add("tw-dark"),window.theme=e,window.isDark=window.theme!=="light"}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else""==="light"||""==="dark"?(setTheme(""),saveTheme("")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#161b22"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")],window.switchThemeEventSet=new Set</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class="desktop print:!tw-hidden" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/en/ title="Arthur's Blog">Arthur's Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/en/posts/>Posts </a><a class=menu-item href=/en/tags/>Tags </a><a class=menu-item href=/en/categories/>Categories </a><a class=menu-item href=/en/authors/>Authors </a><a class=menu-item href=/en/about/>Experience </a><a class=menu-item href=/en/project/>Projects </a><span class="menu-item delimiter"></span><button class="menu-item language" aria-label="Select Language">English<svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg>
<select class=language-select aria-label="Select Language" id=language-select-desktop onchange="location=this.value"><option value=/posts/factory/>中文</option><option value=/en/posts/factory/ selected>English</option></select>
</button><button class="menu-item theme-switch" aria-label="Switch Theme">
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg></button></div></div></div></header><header class="mobile print:!tw-hidden" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="Arthur's Blog">Arthur's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/en/posts/ title>Posts</a><a class=menu-item href=/en/tags/ title>Tags</a><a class=menu-item href=/en/categories/ title>Categories</a><a class=menu-item href=/en/authors/ title>Authors</a><a class=menu-item href=/en/about/ title>Experience</a><a class=menu-item href=/en/project/ title>Projects</a><button class="menu-item theme-switch tw-w-full" aria-label="Switch Theme">
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
</button><button class="menu-item tw-w-full" title>English<svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg>
<select class=language-select title onchange="location=this.value"><option value=/posts/factory/>中文</option><option value=/en/posts/factory/ selected>English</option></select></button></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="toc print:!tw-hidden" id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#_three_types_of_factory_patterns>Three Types of Factory Patterns</a></li><li><a href=#_scenario>Scenario</a></li><li><a href=#_basic_object_introduction>Basic Object Introduction</a><ul><li><a href=#_the_most_important_meat>The Most Important Meat</a></li><li><a href=#_beef>Beef</a></li><li><a href=#_chicken>Chicken</a></li><li><a href=#_pork>Pork</a></li><li><a href=#_px_mart>PX Mart</a></li></ul></li><li><a href=#_please_support_the_cashier>Please Support the Cashier</a></li><li><a href=#_simple_factory_pattern>Simple Factory Pattern</a></li><li><a href=#_want_to_eat_grilled_mackerel>Want to Eat Grilled Mackerel</a></li><li><a href=#_factory_method_pattern>Factory Method Pattern</a><ul><li><a href=#_beef_factory>Beef Factory</a></li><li><a href=#_chicken_factory>Chicken Factory</a></li><li><a href=#_pork_factory>Pork Factory</a></li><li><a href=#_fish_factory>Fish Factory</a></li></ul></li><li><a href=#_smuggling_vietnamese_pork>Smuggling Vietnamese Pork</a></li><li><a href=#_abstract_factory_pattern>Abstract Factory Pattern</a><ul><li><a href=#_domestic_meat_factory>Domestic Meat Factory</a></li><li><a href=#_imported_meat_factory>Imported Meat Factory</a></li><li><a href=#_barbecue_package_combination>Barbecue Package Combination</a></li></ul></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class=single-title data-pagefind-meta=date:2021-09-08 data-pagefind-body>Explaining Factory Patterns Through Barbecue (Part 1)</h1><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><span class=screen-reader-text></span><a href=https://kuanchungfeng.github.io/en/authors/arthur>Arthur</a></span>
</span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=/en/categories/designpattern/><svg class="icon" viewBox="0 0 512 512"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>DesignPattern</a></span></div><div class=post-meta-line><svg class="icon" viewBox="0 0 448 512"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;<time datetime=2021-09-08>2021-09-08</time>&nbsp;<svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime=2021-09-08>2021-09-08</time>&nbsp;<svg class="icon" viewBox="0 0 512 512"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;1077 words&nbsp;
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;5 minutes&nbsp;</div></div><div class="details toc print:!tw-block" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#_three_types_of_factory_patterns>Three Types of Factory Patterns</a></li><li><a href=#_scenario>Scenario</a></li><li><a href=#_basic_object_introduction>Basic Object Introduction</a><ul><li><a href=#_the_most_important_meat>The Most Important Meat</a></li><li><a href=#_beef>Beef</a></li><li><a href=#_chicken>Chicken</a></li><li><a href=#_pork>Pork</a></li><li><a href=#_px_mart>PX Mart</a></li></ul></li><li><a href=#_please_support_the_cashier>Please Support the Cashier</a></li><li><a href=#_simple_factory_pattern>Simple Factory Pattern</a></li><li><a href=#_want_to_eat_grilled_mackerel>Want to Eat Grilled Mackerel</a></li><li><a href=#_factory_method_pattern>Factory Method Pattern</a><ul><li><a href=#_beef_factory>Beef Factory</a></li><li><a href=#_chicken_factory>Chicken Factory</a></li><li><a href=#_pork_factory>Pork Factory</a></li><li><a href=#_fish_factory>Fish Factory</a></li></ul></li><li><a href=#_smuggling_vietnamese_pork>Smuggling Vietnamese Pork</a></li><li><a href=#_abstract_factory_pattern>Abstract Factory Pattern</a><ul><li><a href=#_domestic_meat_factory>Domestic Meat Factory</a></li><li><a href=#_imported_meat_factory>Imported Meat Factory</a></li><li><a href=#_barbecue_package_combination>Barbecue Package Combination</a></li></ul></li></ul></nav></div></div><div class=content id=content data-pagefind-body><div class=sect1><h2 id=_three_types_of_factory_patterns><a class=anchor href=#_three_types_of_factory_patterns></a>Three Types of Factory Patterns</h2><div class=sectionbody><div class="olist arabic"><ol class=arabic><li><p>Simple Factory Pattern</p></li><li><p>Factory Method Pattern</p></li><li><p>Abstract Factory Pattern</p></li></ol></div><div class=paragraph><p>Before understanding the three types of factories, let’s look at the following scenario.</p></div></div></div><div class=sect1><h2 id=_scenario><a class=anchor href=#_scenario></a>Scenario</h2><div class=sectionbody><div class=paragraph><p>Mid-Autumn Festival is approaching, and it’s time for barbecues. You decide to go to PX Mart to buy barbecue supplies and make a shopping list:</p></div><div class="ulist checklist"><ul class=checklist><li><p><i class="fa fa-square-o"></i> Barbecue grill</p></li><li><p><i class="fa fa-square-o"></i> Charcoal</p></li><li><p><i class="fa fa-square-o"></i> Beef</p></li><li><p><i class="fa fa-square-o"></i> Pork</p></li><li><p><i class="fa fa-square-o"></i> Chicken</p></li></ul></div></div></div><div class=sect1><h2 id=_basic_object_introduction><a class=anchor href=#_basic_object_introduction></a>Basic Object Introduction</h2><div class=sectionbody><div class=sect2><h3 id=_the_most_important_meat><a class=anchor href=#_the_most_important_meat></a>The Most Important Meat</h3><div class=listingblock><div class=content><pre>public abstract class Meat {

    private String name;

    private int oz;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getOz() {
        return oz;
    }

    public void setOz(int oz) {
        this.oz = oz;
    }

    public Meat(String name) {
        this.name = name;
    }

    public Meat(){

    }
}</pre></div></div></div><div class=sect2><h3 id=_beef><a class=anchor href=#_beef></a>Beef</h3><div class=listingblock><div class=content><pre>public class Beef extends Meat{

    public Beef(String name) {
        super(name);
    }
}</pre></div></div></div><div class=sect2><h3 id=_chicken><a class=anchor href=#_chicken></a>Chicken</h3><div class=listingblock><div class=content><pre>public class Chicken extends Meat{

    public Chicken(String name) {
        super(name);
    }
}</pre></div></div></div><div class=sect2><h3 id=_pork><a class=anchor href=#_pork></a>Pork</h3><div class=listingblock><div class=content><pre>public class Pork extends Meat{

    public Pork(String name) {
        super(name);
    }
}</pre></div></div><div class=paragraph><p>You excitedly go to PX Mart, ready to buy a lot, and find that PX Mart offers a barbecue package. You immediately buy it.</p></div></div><div class=sect2><h3 id=_px_mart><a class=anchor href=#_px_mart></a>PX Mart</h3><div class=listingblock><div class=content><pre>public class PXMarket {

    // Barbecue package
    public static void barbecueItemSet(){
        // Buy barbecue grill
        buy(&#34;烤肉架&#34;);
        // Buy charcoal
        buy(&#34;木炭&#34;);
        buy(orderBarbecue(&#34;Beef&#34;).getName());
        buy(orderBarbecue(&#34;Pork&#34;).getName());
        buy(orderBarbecue(&#34;Chicken&#34;).getName());

    }

    static Meat orderBarbecue(String meatType){
        if(meatType.equals(&#34;Beef&#34;)){
            // Wagyu beef
            return new Beef(&#34;和牛&#34;);
        }else if(meatType.equals(&#34;Chicken&#34;)){
            // Free-range chicken
            return new Chicken(&#34;土雞&#34;);
        }else {
            // Iberian pork
            return new Pork(&#34;伊比利豬&#34;);
        }
    }

    public static void buy(String item){
        // Buy {item}
        System.out.println(&#34;買到&#34;+item+&#34;了&#34;);
    }
}</pre></div></div><div class=paragraph><p>After buying, you go home and start barbecuing.</p></div><div class=listingblock><div class=content><pre> // Program entry point
    public static void main(String[] args) {
        PXMarket.barbecueItemSet();
        // Start grilling at home
        System.out.println(&#34;回家開烤&#34;);
    }</pre></div></div><div class=imageblock><div class=content><img src=/images/factory/first-barbecue.png alt="First barbecue result" width=500></div><div class=title>Figure 1. First barbecue result</div></div></div></div></div><div class=sect1><h2 id=_please_support_the_cashier><a class=anchor href=#_please_support_the_cashier></a>Please Support the Cashier</h2><div class=sectionbody><div class=paragraph><p>Because the barbecue package is very popular, customers keep coming to buy it. PX Mart’s broadcast constantly says: "Please support the cashier". PX Mart decides to outsource the meat ordering business.</p></div></div></div><div class=sect1><h2 id=_simple_factory_pattern><a class=anchor href=#_simple_factory_pattern></a>Simple Factory Pattern</h2><div class=sectionbody><div class=listingblock><div class=content><pre>public class SimpleMeatFactory {

    public static Meat orderBarbecue(String meatType){
        if(meatType.equals(&#34;Beef&#34;)){
            // Wagyu beef
            return new Beef(&#34;和牛&#34;);
        }else if(meatType.equals(&#34;Chicken&#34;)){
            // Free-range chicken
            return new Chicken(&#34;土雞&#34;);
        }else {
            // Iberian pork
            return new Pork(&#34;伊比利豬&#34;);
        }
    }
}</pre></div></div><div class=paragraph><p>PX Mart’s service now only includes the simple combination package function, outsourcing the meat ordering service to the Simple Meat Factory.</p></div><div class=listingblock><div class=content><pre>public class PXMarket {

    // Barbecue package
    public static void barbecueItemSet(){
        // Buy barbecue grill
        buy(&#34;烤肉架&#34;);
        // Buy charcoal
        buy(&#34;木炭&#34;);
        buy(SimpleMeatFactory.orderBarbecue(&#34;Beef&#34;).getName());
        buy(SimpleMeatFactory.orderBarbecue(&#34;Pork&#34;).getName());
        buy(SimpleMeatFactory.orderBarbecue(&#34;Chicken&#34;).getName());
    }

    public static void buy(String item){
        // Buy {item}
        System.out.println(&#34;買到&#34;+item+&#34;了&#34;);
    }
}</pre></div></div><div class=paragraph><p>The simple factory is responsible for managing the creation of objects. If the client wants to obtain an object, they only need to provide the correct parameters to the simple factory.</p></div></div></div><div class=sect1><h2 id=_want_to_eat_grilled_mackerel><a class=anchor href=#_want_to_eat_grilled_mackerel></a>Want to Eat Grilled Mackerel</h2><div class=sectionbody><div class=paragraph><p>After finishing the barbecue, you suddenly want to eat grilled mackerel. You go to PX Mart to order meat, and the Simple Meat Factory adds fish to the product list for you.</p></div><div class=listingblock><div class=content><pre>public class Fish extends Meat{

    public Fish(String name) {
        super(name);
    }
}</pre></div></div><div class=paragraph><p>And adds fish to the menu</p></div><div class=listingblock><div class=content><pre>public class SimpleMeatFactory {

    public static Meat orderBarbecue(String meatType){
        if(meatType.equals(&#34;Beef&#34;)){
            // Wagyu beef
            return new Beef(&#34;和牛&#34;);
        }else if(meatType.equals(&#34;Chicken&#34;)){
            // Free-range chicken
            return new Chicken(&#34;土雞&#34;);
        }else if(meatType.equals(&#34;Fish&#34;)){
            // Mackerel
            return new Fish(&#34;鯖魚&#34;);
        }else {
            // Iberian pork
            return new Pork(&#34;伊比利豬&#34;);
        }
    }
}</pre></div></div><div class=paragraph><p>PX Mart adds fish to the service</p></div><div class=listingblock><div class=content><pre>   public static void buyFish(){
        buy(SimpleMeatFactory.orderBarbecue(&#34;Fish&#34;).getName());
    }</pre></div></div><div class=paragraph><p>Buy fish and start grilling</p></div><div class=listingblock><div class=content><pre>    // Program entry point
    public static void main(String[] args) {
        PXMarket.buyFish();
        // Start grilling at home
        System.out.println(&#34;回家開烤&#34;);
    }</pre></div></div><div class=paragraph><p>PX Mart feels that this is not sustainable. Every time a customer wants to order a different type of meat, they have to modify the product list and menu in time, which violates the OCP principle.</p></div></div></div><div class=sect1><h2 id=_factory_method_pattern><a class=anchor href=#_factory_method_pattern></a>Factory Method Pattern</h2><div class=sectionbody><div class=paragraph><p>PX Mart decides to cooperate with various meat factories, so they set up an interface for meat factories that want to cooperate to sign a contract.</p></div><div class=listingblock><div class=content><pre>public interface MeatMethodFactory {

    Meat orderMeat();

}</pre></div></div><div class=paragraph><p>The previously cooperating meat factories come to sign contracts</p></div><div class=sect2><h3 id=_beef_factory><a class=anchor href=#_beef_factory></a>Beef Factory</h3><div class=listingblock><div class=content><pre>public class BeefFactory implements MeatMethodFactory{

    @Override
    public Meat orderMeat() {
        // Wagyu beef
        return new Beef(&#34;和牛&#34;);
    }
}</pre></div></div></div><div class=sect2><h3 id=_chicken_factory><a class=anchor href=#_chicken_factory></a>Chicken Factory</h3><div class=listingblock><div class=content><pre>public class ChickenFactory implements MeatMethodFactory{

    @Override
    public Meat orderMeat() {
        // Free-range chicken
        return new Chicken(&#34;土雞&#34;);
    }
}</pre></div></div></div><div class=sect2><h3 id=_pork_factory><a class=anchor href=#_pork_factory></a>Pork Factory</h3><div class=listingblock><div class=content><pre>public class PorkFactory implements MeatMethodFactory{

    @Override
    public Meat orderMeat() {
        // Iberian pork
        return new Pork(&#34;伊比利豬&#34;);
    }
}</pre></div></div></div><div class=sect2><h3 id=_fish_factory><a class=anchor href=#_fish_factory></a>Fish Factory</h3><div class=listingblock><div class=content><pre>public class FishFactory implements MeatMethodFactory{

    @Override
    public Meat orderMeat() {
        // Mackerel
        return new Fish(&#34;鯖魚&#34;);
    }
}</pre></div></div><div class=paragraph><p>After signing the contracts, PX Mart prepares an iPhone specifically for ordering meat from the factories.</p></div><div class=listingblock><div class=content><pre>    public static Meat callFactory(MeatMethodFactory factory){
        return factory.orderMeat();
    }</pre></div></div><div class=paragraph><p>The previous fish ordering service can now call the corresponding factory to order fish.</p></div><div class=listingblock><div class=content><pre>    public static void buyFish(){
        FishFactory fishFactory = new FishFactory();
        buy(callFactory(fishFactory).getName());
    }</pre></div></div><div class=paragraph><p><strong>Factory Method Pattern</strong> defines an interface for creating an object, but lets subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.</p></div></div></div></div><div class=sect1><h2 id=_smuggling_vietnamese_pork><a class=anchor href=#_smuggling_vietnamese_pork></a>Smuggling Vietnamese Pork</h2><div class=sectionbody><div class=paragraph><p>Recently, smuggled Vietnamese pork has been discovered domestically. PX Mart decides to split into domestic meat factories and imported meat factories, but the thought of re-signing contracts with meat factories gives them a headache.</p></div></div></div><div class=sect1><h2 id=_abstract_factory_pattern><a class=anchor href=#_abstract_factory_pattern></a>Abstract Factory Pattern</h2><div class=sectionbody><div class=paragraph><p>PX Mart later decides to split into domestic meat factories and imported meat factories. Each meat factory must supply at least beef, chicken, pork, and fish, so they set up a new interface.</p></div><div class=listingblock><div class=content><pre>public interface AbstractFactory {

    public Beef supplyBeef();

    public Chicken supplyChicken();

    public Pork supplyPork();

    public Fish supplyFish();
}</pre></div></div><div class=sect2><h3 id=_domestic_meat_factory><a class=anchor href=#_domestic_meat_factory></a>Domestic Meat Factory</h3><div class=listingblock><div class=content><pre>public class DomesticFactory implements AbstractFactory{
    @Override
    public Beef supplyBeef() {
        // Domestic beef
        return new Beef(&#34;國產牛肉&#34;);
    }

    @Override
    public Chicken supplyChicken() {
        // Domestic chicken
        return new Chicken(&#34;國產雞肉&#34;);
    }

    @Override
    public Pork supplyPork() {
        // Domestic pork
        return new Pork(&#34;國產豬肉&#34;);
    }

    @Override
    public Fish supplyFish() {
        // Domestic mackerel
        return new Fish(&#34;國產鯖魚&#34;);
    }
}</pre></div></div></div><div class=sect2><h3 id=_imported_meat_factory><a class=anchor href=#_imported_meat_factory></a>Imported Meat Factory</h3><div class=listingblock><div class=content><pre>public class ImportFactory implements AbstractFactory{
    @Override
    public Beef supplyBeef() {
        // Imported Wagyu
        return new Beef(&#34;進口和牛&#34;);
    }

    @Override
    public Chicken supplyChicken() {
        // Imported chicken
        return new Chicken(&#34;進口雞肉&#34;);
    }

    @Override
    public Pork supplyPork() {
        // Imported pork
        return new Pork(&#34;進口豬肉&#34;);
    }

    @Override
    public Fish supplyFish() {
        // Imported mackerel
        return new Fish(&#34;進口鯖魚&#34;);
    }
}</pre></div></div></div><div class=sect2><h3 id=_barbecue_package_combination><a class=anchor href=#_barbecue_package_combination></a>Barbecue Package Combination</h3><div class=listingblock><div class=content><pre>    public static void barbecueItemSet(){
        DomesticFactory domesticFactory = new DomesticFactory();
        // Buy barbecue grill
        buy(&#34;烤肉架&#34;);
        // Buy charcoal
        buy(&#34;木炭&#34;);
        buy(domesticFactory.supplyBeef().getName());
        buy(domesticFactory.supplyChicken().getName());
        buy(domesticFactory.supplyPork().getName());

    }</pre></div></div><div class=paragraph><p>Yay!! Eating domestic pork, no need to worry about eating virus-infected barbecue.</p></div><div class=imageblock><div class=content><img src=/images/factory/last-barbecue.jpg alt="Last barbecue result" width=500></div><div class=title>Figure 2. Last barbecue result</div></div><div class=paragraph><p><strong>Abstract Factory Pattern</strong> defines an interface for creating families of related or dependent objects without specifying their concrete classes.</p></div><div class=paragraph><p><a href=https://github.com/kuanchungfeng/factory target=_blank rel=noopener>GitHub code</a></p></div></div></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-09-08</span></div><div class=post-info-license></div></div><div class="post-info-line print:!tw-hidden"><div class=post-info-md></div><div class=post-info-share></div></div></div><div class=post-info-more><section class=post-tags><svg class="icon" viewBox="0 0 640 512"><path d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"/></svg>&nbsp;<a href=/en/tags/dp/>DP</a>,&nbsp;<a href=/en/tags/factorypattern/>FactoryPattern</a></section><section class=print:!tw-hidden><span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick=window.history.back()>Back</button></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class="post-nav print:tw-hidden"><a href=/en/posts/design-pattern-learning-guide/ class=prev rel=prev title="Design Patterns Learning Map"><svg class="icon" viewBox="0 0 256 512"><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9.0l22.6 22.6c9.4 9.4 9.4 24.6.0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6.0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9.0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>Design Patterns Learning Map</a>
<a href=/en/posts/factory2/ class=next rel=next title="Explaining Factory Patterns Through Barbecue (Part 2)">Explaining Factory Patterns Through Barbecue (Part 2)<svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.150.1">Hugo</a>&nbsp;|&nbsp;Theme - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.4.0"><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a></div><div class=footer-line><svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532.0-2e2-89.451-2e2-2e2.0-110.531 89.451-2e2 2e2-2e2 110.532.0 2e2 89.451 2e2 2e2.0 110.532-89.451 2e2-2e2 2e2zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43.0-140.484-61.425-140.484-141.567.0-79.152 60.275-139.401 139.762-139.401 55.531.0 88.738 26.62 97.593 34.779a11.965 11.965.0 011.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303.0-77.916 35.33-77.916 80.082.0 41.589 26.888 83.692 78.277 83.692 32.657.0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947.0 01-1.152 15.518z"/></svg>2025<span class=author>&nbsp;<a href=/en/ target=_blank rel="noopener noreferrer"></a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons class=print:!tw-hidden><a href=#back-to-top id=back-to-top-button class="fixed-button tw-transition-opacity tw-opacity-0" title="Back to Top"><svg class="icon" viewBox="0 0 448 512"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><script>window.config={comment:{}}</script><script src=/js/theme.min.js defer></script><script type=speculationrules>
        {
          "prerender": [
            {
              "where": { "href_matches": "/*" },
              "eagerness": "moderate"
            }
          ]
        }
    </script></body></html>